<Window  
    x:Class="HospitalManagementSystem.WPF.Views.Admin.AddNewStaffMemberView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:HospitalManagementSystem.WPF.ViewModels.Admin.StaffRegister"
    xmlns:mainvm="clr-namespace:HospitalManagementSystem.WPF.ViewModels.Admin"
    xmlns:views="clr-namespace:HospitalManagementSystem.WPF.Views.Admin.StaffRegister"
    Title="Add New Staff Member"
    WindowStartupLocation="CenterScreen"
    Width="1280"  Height="720">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <!-- now x:Type and your vm:… will be recognized -->
        <DataTemplate DataType="{x:Type vm:GeneralFormViewModel}">
            <views:UC_GeneralFormView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:AdminFormViewModel}">
            <views:UC_AdminFormView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:DoctorFormViewModel}">
            <views:UC_DoctorFormView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:NurseFormViewModel}">
            <views:UC_NurseFormView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ReceptionistFormViewModel}">
            <views:UC_ReceptionistFormView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:FinalPageViewModel}">
            <views:UC_FinalPageView/>
        </DataTemplate>
    </Window.Resources>

    <!-- Main Grid layout for the view -->
    <Grid Margin="20">

        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ContentControl to display the current form/step, placed in the first row -->
        <ContentControl Content="{Binding CurrentStep}"
                        Grid.Row="0"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        Validation.ErrorTemplate="{x:Null}"/>

        <!-- StackPanel for navigation buttons, placed in the second row -->
        <StackPanel Orientation="Horizontal"
                    Grid.Row="1"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Margin="0,0,0,0"
                   >
            <!-- Margin to separate from content above -->

            <!-- Back button -->
            <Button Content="Back"
                    Command="{Binding BackCommand}"
                    Visibility="{Binding CanGoBack, Converter={StaticResource BoolToVisibilityConverter}}"
                    Style="{StaticResource PrimaryButtonStyle}"/>

            <!-- Next/Submit button -->
            <Button Content="{Binding NextButtonText}"
                    Command="{Binding NextCommand}"
                    IsDefault="True"
                    Style="{StaticResource PrimaryButtonStyle}"/>
        </StackPanel>
    </Grid>
</Window>
