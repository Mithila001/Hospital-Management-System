<UserControl x:Class="HospitalManagementSystem.WPF.Views.Admin.StaffManagementView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:HospitalManagementSystem.WPF.ViewModels.Admin"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800"
             d:DataContext="{d:DesignInstance vm:StaffManagementViewModel, IsDesignTimeCreatable=True}">

    <Grid Margin="2" Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header + Add Button -->
        <Grid Grid.Row="0" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="Staff Management" FontSize="20" FontWeight="Bold" VerticalAlignment="Center"/>
            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Add New Staff"
                Command="{Binding OpenAddNewStaffWindowCommand}"
                Margin="5,0"/>
            </StackPanel>
        </Grid>

        <!-- Tabs -->
        <TabControl Grid.Row="1">
            <!-- ALL STAFF -->
            <TabItem Header="All">
                <DataGrid ItemsSource="{Binding AllStaffView}"
                  SelectedItem="{Binding SelectedStaffMember}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  Margin="5"
                  VerticalScrollBarVisibility="Auto"
                  Height="350">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID"                    Binding="{Binding Id}"                     Width="Auto"/>
                        <DataGridTextColumn Header="Employee ID"           Binding="{Binding EmployeeId}"             Width="Auto"/>
                        <DataGridTextColumn Header="Username"              Binding="{Binding UserName}"               Width="*"/>
                        <DataGridTextColumn Header="First Name"            Binding="{Binding FirstName}"              Width="*"/>
                        <DataGridTextColumn Header="Middle Name"           Binding="{Binding MiddleName}"             Width="*"/>
                        <DataGridTextColumn Header="Last Name"             Binding="{Binding LastName}"               Width="*"/>
                        <DataGridTextColumn Header="Role"                  Binding="{Binding StaffRole}"              Width="Auto"/>
                        <DataGridTextColumn Header="Department"            Binding="{Binding Department}"             Width="*"/>
                        <DataGridTextColumn Header="Email"                 Binding="{Binding Email}"                  Width="*"/>
                        <DataGridTextColumn Header="Primary Phone"         Binding="{Binding PrimaryPhone}"           Width="Auto"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>

            <!-- DOCTORS -->
            <TabItem Header="Doctors">
                <DataGrid ItemsSource="{Binding DoctorsView}"
                  SelectedItem="{Binding SelectedStaffMember}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  Margin="5"
                  VerticalScrollBarVisibility="Auto"
                  Height="350">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID"                       Binding="{Binding Id}"                             Width="Auto"/>
                        <DataGridTextColumn Header="Employee ID"              Binding="{Binding EmployeeId}"                     Width="Auto"/>
                        <DataGridTextColumn Header="Username"                 Binding="{Binding UserName}"                       Width="*"/>
                        <DataGridTextColumn Header="Name"                      Width="2*">
                            <DataGridTextColumn.Binding>
                                <MultiBinding StringFormat="{}{0} {1} {2}">
                                    <Binding Path="FirstName"/>
                                    <Binding Path="MiddleName"/>
                                    <Binding Path="LastName"/>
                                </MultiBinding>
                            </DataGridTextColumn.Binding>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Specializations"         Binding="{Binding Specializations}"                Width="*"/>
                        <DataGridTextColumn Header="Med. Reg. #"             Binding="{Binding MedicalRegistrationNumber}"      Width="*"/>
                        <DataGridTextColumn Header="Email"                    Binding="{Binding Email}"                          Width="*"/>
                        <DataGridTextColumn Header="Phone"                    Binding="{Binding PrimaryPhone}"                   Width="Auto"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>

            <!-- NURSES -->
            <TabItem Header="Nurses">
                <DataGrid ItemsSource="{Binding NursesView}"
                  SelectedItem="{Binding SelectedStaffMember}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  Margin="5"
                  VerticalScrollBarVisibility="Auto"
                  Height="350">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID"                    Binding="{Binding Id}"                     Width="Auto"/>
                        <DataGridTextColumn Header="Employee ID"           Binding="{Binding EmployeeId}"             Width="Auto"/>
                        <DataGridTextColumn Header="Username"              Binding="{Binding UserName}"               Width="*"/>
                        <DataGridTextColumn Header="First Name"            Binding="{Binding FirstName}"              Width="*"/>
                        <DataGridTextColumn Header="Last Name"             Binding="{Binding LastName}"               Width="*"/>
                        <DataGridTextColumn Header="Shift"                 Binding="{Binding OnCallPreferences}"      Width="*"/>
                        <DataGridTextColumn Header="Email"                 Binding="{Binding Email}"                  Width="*"/>
                        <DataGridTextColumn Header="Phone"                 Binding="{Binding PrimaryPhone}"           Width="Auto"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
